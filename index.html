<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Oản Tù Tì</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif; /* Sử dụng font mới */
            background-color: #f0f0f0; /* Màu nền sáng nhẹ */
            color: #2c3e50; /* Màu chữ tối đậm dễ đọc */
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            overflow: hidden; /* ngăn chặn cuộn màn hình */
        }

        h1 {
            font-size: 50px;
            margin-bottom: 20px;
            color: #2980b9; /* Màu xanh dương tươi sáng */
        }

        h2 {
            font-size: 20px;
            color: #7f8c8d; /* Màu xám sáng */
        }

        .nut-bam {
            background-color: #27ae60; /* Màu xanh lá tươi mới */
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s ease;
        }

        .nut-bam:hover {
            background-color: #2ecc71; /* Màu xanh lá đậm khi hover */
        }

        .canh-bao {
            margin-top: 20px;
            font-size: 14px;
            color: #95a5a6; /* Màu xám nhạt */
        }

        .an {
            display: none;
        }

        .khung {
            background-color: #ffffff;
            border-radius: 15px;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 650px;
            height: 600px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            justify-content: space-evenly;
            margin:auto ; /* đảm bảo khung căn giữa hình */
        }

        .tay {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            width: 100%;
        }

        .tay img {
            width: 150px; /* Giảm kích thước hình tay */
            height: 150px;
            transition: transform 0.4s ease;
        }

        .chon {
            display: flex;
            justify-content: space-evenly;
            margin-top: 30px;
            width: 100%;
        }

        .chon img {
            width: 60px; /* Kích thước hình ảnh lựa chọn */
            height: 60px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .chon img:hover {
            transform: scale(1.3); /* Tăng kích thước khi hover */
        }

        #man-choi-game .khung {
            position: relative;
            justify-content: center;
            text-align: center;
            width: 90%; /* đảm bảo khung không bị tràn ra ngoài */
        }

        #tayNguoiChoi {
            border: 4px solid #3498db; /* Viền màu xanh cho tay người chơi */
            border-radius: 15px;
        }

        #tayMay {
            border: 4px solid #e74c3c; /* Viền màu đỏ cho tay máy */
            border-radius: 15px;
        }

        .lac {
            animation: lac 0.5s ease;
        }

        @keyframes lac {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
        }

        #man-ket-thuc .khung {
            padding: 40px 30px;
            height: 450px;
            justify-content: center;
        }

        #ket-qua-cuoi {
            font-size: 26px;
            font-weight: 600;
            color: #2ecc71; /* Màu xanh lá cho kết quả chiến thắng */
            margin: 20px 0;
        }
        /* Responsive - Media Queries */

        /* Màn hình nhỏ (Tablet, điện thoại lớn) */
        @media (max-width: 768px) {
            h1 {
                font-size: 36px;
            }

            .tay img {
                width: 140px;
                height: 140px;
            }

            .chon img {
                width: 40px;
                height: 40px;
            }

            .khung {
                padding: 20px;
                max-width: 90%;
                height: auto;
            }

            .chon {
                flex-direction: row;
                justify-content: space-around;
            }

            #man-choi-game {
                max-width: 100%;
            }
            #man-choi-game {
                max-width: 100%;
            }

            /* Màn hình kết thúc */
            #man-ket-thuc .khung {
                height: auto;
                padding: 30px;
                max-width: 90%;
            }

            #ket-qua-cuoi {
                font-size: 22px;
            }
        }

        /* Màn hình nhỏ hơn (Điện thoại di động) */
        @media (max-width: 480px) {
            .nut-bam {
                font-size: 18px;
                padding: 10px 20px;
            }

            .tay img {
                width: 120px;
                height: 120px;
            }

            .chon img {
                width: 30px;
                height: 30px;
            }

            .khung {
                padding: 15px;
                width: 100%;
                max-width: 100%;
                height: auto;
            }
            #man-ket-thuc .khung {
                padding: 20px;
                width: 100%;
                max-width: 100%;
                height: auto;
            }

            #ket-qua-cuoi {
                font-size: 20px;
            }

            #man-ket-thuc .nut-bam {
                font-size: 16px;
                padding: 8px 15px;
            }
        }
    </style>
</head>
<body>
<!-- Màn hình chính -->
<div id="man-hinh-chinh">
    <h1>Game Oản Tù Tì</h1>
    <h2>Chơi vui cùng bạn bè</h2>
    <button class="nut-bam" onclick="batDauGame()">Bắt đầu chơi</button>
    <div class="canh-bao">
        <p>Trò chơi vui vẻ và thú vị</p>
    </div>
</div>

<!-- Màn hình chơi game -->
<div id="man-choi-game" class="an">
    <div class="khung">
        <h1>Oản Tù Tì</h1>
        <div class="tay">
            <img src="/image/bua1.png" alt="Tay người chơi" id="tayNguoiChoi">
            <img src="/image/bua2.png" alt="Tay máy" id="tayMay">
        </div>
        <h2 id="ket-qua"></h2>
        <div class="chon">
            <img src="/image/bua.png" alt="Búa" onclick="chonNguoiChoi('bua')">
            <img src="/image/bao.png" alt="Bao" onclick="chonNguoiChoi('bao')">
            <img src="/image/keo.png" alt="Kéo" onclick="chonNguoiChoi('keo')">
        </div>
        <h3 id="diem-so"></h3>
    </div>
</div>

<!-- Màn hình kết thúc -->
<div id="man-ket-thuc" class="an">
    <div class="khung">
        <h1>Kết Quả Cuối Cùng</h1>
        <h2 id="ket-qua-cuoi"></h2>
        <button class="nut-bam" onclick="choiLai()">Chơi lại</button>
    </div>
</div>

<script>
    let diemNguoiChoi = 0;
    let diemMay = 0;
    let luotChoi = 0;
    const luotChoiToiDa = 5;

    function batDauGame() {
        document.getElementById('man-hinh-chinh').classList.add('an');
        document.getElementById('man-choi-game').classList.remove('an');
    }

    function chonNguoiChoi(luaChon) {
        if (luotChoi >= luotChoiToiDa) {
            return;
        }
        const tayNguoiChoi = document.getElementById('tayNguoiChoi');
        const tayMay = document.getElementById('tayMay');
        tayNguoiChoi.classList.add('lac');
        tayMay.classList.add('lac');

        setTimeout(() => {
            tayNguoiChoi.classList.remove('lac');
            tayMay.classList.remove('lac');
            choiLuot(luaChon);
        }, 500);
    }

    function choiLuot(luaChonNguoi) {
        const luaChonMay = ['bua', 'bao', 'keo'][Math.floor(Math.random() * 3)];
        let ketQua = '';

        updateHinhTay(luaChonNguoi, luaChonMay);

        if (luaChonNguoi === luaChonMay) {
            ketQua = "Hòa!";
        } else if (
            (luaChonNguoi === 'bua' && luaChonMay === 'keo') ||
            (luaChonNguoi === 'bao' && luaChonMay === 'bua') ||
            (luaChonNguoi === 'keo' && luaChonMay === 'bao')
        ) {
            ketQua = "Bạn thắng!";
            diemNguoiChoi++;
        } else {
            ketQua = "Bạn thua!";
            diemMay++;
        }

        luotChoi++;
        document.getElementById('ket-qua').innerText = `Lượt ${luotChoi}: Bạn chọn ${luaChonNguoi}, Máy chọn ${luaChonMay}. ${ketQua}`;
        document.getElementById('diem-so').innerText = `Điểm của bạn: ${diemNguoiChoi}, Điểm của máy: ${diemMay}`;

        if (luotChoi >= luotChoiToiDa) {
            ketThucGame();
        }
    }

    function updateHinhTay(luaChonNguoi, luaChonMay) {
        const tayNguoiChoi = document.getElementById('tayNguoiChoi');
        const tayMay = document.getElementById('tayMay');
        tayNguoiChoi.src = `/image/${luaChonNguoi}1.png`;
        tayMay.src = `/image/${luaChonMay}2.png`;
    }

    function ketThucGame() {
        const ketQuaCuoi = diemNguoiChoi > diemMay ? "Bạn là người chiến thắng!" :
            diemNguoiChoi < diemMay ? "Bạn đã thua cuộc!" : "Trò chơi hòa!";
        document.getElementById('man-choi-game').classList.add('an');
        document.getElementById('man-ket-thuc').classList.remove('an');
        document.getElementById('ket-qua-cuoi').innerText = ketQuaCuoi;
    }

    function choiLai() {
        diemNguoiChoi = 0;
        diemMay = 0;
        luotChoi = 0;
        document.getElementById('ket-qua').innerText = '';
        document.getElementById('diem-so').innerText = '';
        document.getElementById('man-choi-game').classList.remove('an');
        document.getElementById('man-ket-thuc').classList.add('an');
    }
</script>
</body>
</html>
